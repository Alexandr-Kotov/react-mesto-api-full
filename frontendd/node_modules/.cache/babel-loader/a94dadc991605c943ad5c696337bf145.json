{"ast":null,"code":"class Api {\n  constructor(_ref) {\n    let {\n      baseUrl,\n      headers\n    } = _ref;\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n\n    this._resHandler = res => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getProfile() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers\n    }).then(res => this._resHandler(res));\n  }\n\n  patchProfile(name, about) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        about\n      })\n    }).then(res => this._resHandler(res));\n  }\n\n  getCardSever() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers\n    }).then(res => this._resHandler(res));\n  }\n\n  postCardSever(name, link) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        link\n      })\n    }).then(res => this._resHandler(res));\n  }\n\n  toggleLike(cardId, hasMyLike) {\n    return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n      method: `${hasMyLike ? \"DELETE\" : \"PUT\"}`,\n      headers: this._headers\n    }).then(res => this._resHandler(res));\n  }\n\n  addLike(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: 'PUT',\n      headers: this._headers\n    }).then(res => this._resHandler(res));\n  }\n\n  deleteLike(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(res => this._resHandler(res));\n  }\n\n  patchAvatar(avatarLink) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatarLink\n      })\n    }).then(res => this._resHandler(res));\n  }\n\n}\n\nexport const api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-37',\n  headers: {\n    authorization: '4681c571-88f6-4ca4-b1b2-2741f41c35d8',\n    'Content-Type': 'application/json'\n  }\n});","map":{"version":3,"sources":["C:/Users/кот/OneDrive/Рабочий стол/praktikum/mesto-react/src/utils/Api.js"],"names":["Api","constructor","baseUrl","headers","_baseUrl","_headers","_resHandler","res","ok","json","Promise","reject","status","getProfile","fetch","then","patchProfile","name","about","method","body","JSON","stringify","getCardSever","postCardSever","link","toggleLike","cardId","hasMyLike","addLike","id","deleteLike","patchAvatar","avatarLink","avatar","api","authorization"],"mappings":"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","sourcesContent":["class Api {\r\n  constructor({baseUrl, headers}) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n    this._resHandler = (res) => (res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`));\r\n  }\r\n\r\n  getProfile(){\r\n    return fetch(`${this._baseUrl}/users/me`,{\r\n      headers: this._headers\r\n    })  \r\n    .then((res) => this._resHandler(res))\r\n  }\r\n\r\n  patchProfile(name, about){\r\n    return fetch(`${this._baseUrl}/users/me`,{\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name,\r\n        about\r\n    })\r\n    })\r\n\r\n    .then((res) => this._resHandler(res))\r\n  }\r\n\r\n  getCardSever(){\r\n    return fetch(`${this._baseUrl}/cards`,{\r\n      headers: this._headers\r\n    })\r\n    .then((res) => this._resHandler(res))\r\n  }\r\n\r\n  postCardSever(name, link){\r\n    return fetch(`${this._baseUrl}/cards`,{\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name,\r\n        link\r\n    })\r\n    })\r\n    .then((res) => this._resHandler(res))\r\n  }\r\n\r\n  \r\n    toggleLike(cardId, hasMyLike) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\r\n      method: `${hasMyLike ? \"DELETE\" : \"PUT\"}`,\r\n      headers: this._headers,\r\n    }).then((res) => this._resHandler(res));\r\n  }\r\n\r\n\r\n  addLike(id){\r\n    return fetch(`${this._baseUrl}/cards/${id}/likes`,{\r\n      method: 'PUT',\r\n      headers: this._headers,\r\n    })\r\n    .then((res) => this._resHandler(res))\r\n  }\r\n\r\n  deleteLike(id){\r\n    return fetch(`${this._baseUrl}/cards/${id}/likes`,{\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    })\r\n    .then((res) => this._resHandler(res))\r\n  }\r\n\r\n  patchAvatar(avatarLink) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({ \r\n        avatar: avatarLink\r\n      })\r\n    })\r\n    .then((res) => this._resHandler(res))\r\n  }\r\n}\r\n\r\nexport const api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-37',\r\n  headers: {\r\n    authorization: '4681c571-88f6-4ca4-b1b2-2741f41c35d8',\r\n    'Content-Type': 'application/json'\r\n  }\r\n});"]},"metadata":{},"sourceType":"module"}