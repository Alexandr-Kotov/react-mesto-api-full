{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u043A\\u043E\\u0442\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\praktikum\\\\mesto-react\\\\src\\\\components\\\\EditProfilePopup.js\",\n    _s = $RefreshSig$();\n\nimport { useContext, useEffect, useState } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { PopupWithForm } from \"./PopupWithForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const EditProfilePopup = _ref => {\n  _s();\n\n  let {\n    isOpen,\n    onClose,\n    onUserUpdate\n  } = _ref;\n  const currentUser = useContext(CurrentUserContext);\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  useEffect(() => {\n    if (currentUser) {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    }\n  }, [currentUser, isOpen]);\n\n  const handleChange = e => {\n    if (e.target.name === \"name\") {\n      setName(e.target.value);\n    }\n\n    if (e.target.name === \"about\") {\n      setDescription(e.target.value);\n    }\n  };\n\n  const submitHandler = e => {\n    e.preventDefault();\n    onUserUpdate({\n      name,\n      about: description\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(PopupWithForm, {\n    isOpen: isOpen,\n    onClose: onClose,\n    title: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",\n    name: \"edit\",\n    onSubmit: submitHandler,\n    buttonText: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      className: \"popup__input\",\n      id: \"name-input\",\n      name: \"profileName\",\n      placeholder: \"\\u0418\\u043C\\u044F\",\n      required: true,\n      minLength: \"2\",\n      maxLength: \"40\",\n      onChange: handleChange,\n      value: name || \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      id: \"name-input-error\",\n      className: \"popup__input-error\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      className: \"popup__input\",\n      id: \"description-input\",\n      name: \"profileAboutme\",\n      placeholder: \"\\u041E \\u0441\\u0435\\u0431\\u0435\",\n      required: true,\n      minLength: \"2\",\n      maxLength: \"200\",\n      onChange: handleChange,\n      value: name || \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      id: \"description-input-error\",\n      className: \"popup__input-error\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n\n_s(EditProfilePopup, \"WlxPwiqX56tHi/xw5m3aUoyAzNQ=\");\n\n_c = EditProfilePopup;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditProfilePopup\");","map":{"version":3,"sources":["C:/Users/кот/OneDrive/Рабочий стол/praktikum/mesto-react/src/components/EditProfilePopup.js"],"names":["useContext","useEffect","useState","CurrentUserContext","PopupWithForm","EditProfilePopup","isOpen","onClose","onUserUpdate","currentUser","name","setName","description","setDescription","about","handleChange","e","target","value","submitHandler","preventDefault"],"mappings":"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","sourcesContent":["import { useContext, useEffect, useState } from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport { PopupWithForm } from \"./PopupWithForm\";\r\n\r\nexport const EditProfilePopup = ({ isOpen, onClose, onUserUpdate }) => {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      setName(currentUser.name);\r\n      setDescription(currentUser.about);\r\n    }\r\n  }, [currentUser, isOpen]);\r\n\r\n  const handleChange = (e) => {\r\n    if (e.target.name === \"name\") {\r\n      setName(e.target.value);\r\n    }\r\n    if (e.target.name === \"about\") {\r\n      setDescription(e.target.value);\r\n    }\r\n  };\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    onUserUpdate({\r\n      name,\r\n      about: description,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      title=\"Редактировать профиль\"\r\n      name=\"edit\"\r\n      onSubmit={submitHandler}\r\n      buttonText=\"Сохранить\"\r\n    >\r\n      <input\r\n        type=\"text\"\r\n        className=\"popup__input\"\r\n        id=\"name-input\"\r\n        name=\"profileName\"\r\n        placeholder=\"Имя\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        onChange={handleChange}\r\n        value={name || \"\"}\r\n      />\r\n      <span id=\"name-input-error\" className=\"popup__input-error\"></span>\r\n      <input\r\n        type=\"text\"\r\n        className=\"popup__input\"\r\n        id=\"description-input\"\r\n        name=\"profileAboutme\"\r\n        placeholder=\"О себе\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        onChange={handleChange}\r\n        value={name || \"\"}\r\n      />\r\n      <span id=\"description-input-error\" className=\"popup__input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n};"]},"metadata":{},"sourceType":"module"}