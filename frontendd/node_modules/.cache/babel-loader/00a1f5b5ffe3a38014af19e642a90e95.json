{"ast":null,"code":"class Api {\n  constructor(_ref) {\n    let {\n      baseUrl,\n      headers\n    } = _ref;\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  } // resHandler(res){ \n  //    (res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`))\n  // }\n\n\n  getProfile() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers\n    }).then(res => this._resHandler(res));\n  }\n\n  patchProfile(me) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify(me)\n    }).then(res => this._resHandler(res));\n  }\n\n  getCardSever() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers\n    }).then(res => this._resHandler(res));\n  }\n\n  postCardSever(card) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify(card)\n    }).then(res => this._resHandler(res));\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(res => this._resHandler(res));\n  }\n\n  toggleLike(cardId, hasMyLike) {\n    return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n      method: `${hasMyLike ? \"DELETE\" : \"PUT\"}`,\n      headers: this._headers\n    }).then(res => this._resHandler(res));\n  }\n\n  addLike(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: 'PUT',\n      headers: this._headers\n    }).then(res => this._resHandler(res));\n  }\n\n  patchAvatar(avatarLink) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatarLink\n      })\n    }).then(res => this._resHandler(res));\n  }\n\n}\n\nexport const api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-37',\n  headers: {\n    authorization: '4681c571-88f6-4ca4-b1b2-2741f41c35d8',\n    'Content-Type': 'application/json'\n  }\n});","map":{"version":3,"sources":["C:/Users/кот/OneDrive/Рабочий стол/praktikum/mesto-react/src/utils/Api.js"],"names":["Api","constructor","baseUrl","headers","_baseUrl","_headers","getProfile","fetch","then","res","_resHandler","patchProfile","me","method","body","JSON","stringify","getCardSever","postCardSever","card","deleteCard","id","toggleLike","cardId","hasMyLike","addLike","patchAvatar","avatarLink","avatar","api","authorization"],"mappings":"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","sourcesContent":["class Api {\r\n  constructor({baseUrl, headers}) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n\r\n  // resHandler(res){ \r\n  //    (res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`))\r\n  // }\r\n\r\n  getProfile(){\r\n    return fetch(`${this._baseUrl}/users/me`,{\r\n      headers: this._headers\r\n    })  \r\n    .then((res) => this._resHandler(res))\r\n  }\r\n\r\n  patchProfile(me) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(me),\r\n    }).then((res) => this._resHandler(res));\r\n  }\r\n\r\n  getCardSever(){\r\n    return fetch(`${this._baseUrl}/cards`,{\r\n      headers: this._headers\r\n    })\r\n    .then((res) => this._resHandler(res))\r\n  }\r\n\r\n  postCardSever(card) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(card),\r\n    }).then((res) => this._resHandler(res));\r\n  }\r\n\r\n  deleteCard(id){\r\n    return fetch(`${this._baseUrl}/cards/${id}`,{\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    })\r\n    .then((res) => this._resHandler(res))\r\n  }\r\n\r\n\r\n  toggleLike(cardId, hasMyLike) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\r\n      method: `${hasMyLike ? \"DELETE\" : \"PUT\"}`,\r\n      headers: this._headers,\r\n    }).then((res) => this._resHandler(res));\r\n  }\r\n\r\n\r\n  addLike(id){\r\n    return fetch(`${this._baseUrl}/cards/${id}/likes`,{\r\n      method: 'PUT',\r\n      headers: this._headers,\r\n    })\r\n    .then((res) => this._resHandler(res))\r\n  }\r\n\r\n\r\n  patchAvatar(avatarLink) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({ \r\n        avatar: avatarLink\r\n      })\r\n    })\r\n    .then((res) => this._resHandler(res))\r\n  }\r\n}\r\n\r\nexport const api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-37',\r\n  headers: {\r\n    authorization: '4681c571-88f6-4ca4-b1b2-2741f41c35d8',\r\n    'Content-Type': 'application/json'\r\n  }\r\n});"]},"metadata":{},"sourceType":"module"}